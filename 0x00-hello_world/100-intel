#!/bin/bash

# Check if the CFILE variable is set
if [ -z "$CFILE" ]; then
    echo "CFILE variable is not set."
    exit 1
fi

# Extract the base name of the C file (without extension)
BASENAME=$(basename -s .c "$CFILE")

# Create a minimal assembly file with two lines of code
echo -e ".global main\n\nmain:" > "${BASENAME}-intel.s"

# Check if the file creation was successful
if [ $? -eq 0 ]; then
    echo "Minimal assembly code created and saved as ${BASENAME}-intel.s"
else
    echo "Error creating the assembly code file."
    exit 1
fi

